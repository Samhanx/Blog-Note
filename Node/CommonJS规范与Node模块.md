# CommonJS规范与Node模块

JS在ES6标准之前，是没有自己的模块机制的。早期的JS开发，由于主要运行在浏览器端，通过不同script脚本的引入，以达到某种程度上的“模块化”。然而由于浏览器对脚本加载的机制，这样的方式也带来了一些诸如全局变量污染，脚本阻塞，依赖关系不明确，应用不够健壮，代码可维护性低等等问题。

面对这些问题，社区也不断总结出了一些最佳实践。比如script脚本放置在body闭合标签之前；比如通过人为的约定来规范全局变量，例如引入命名空间的概念；比如通过IIFE（匿名立即执行函数）来实现代码的模块化等等。

再之后，社区也陆续推出了一些约定和规范，形成了像AMD，CMD，CommonJS这些JS的模块化方案。基于这些规范，也出现了像RequireJS，Sea.js，这些模块加载器，作为对规范的实现。

那么Node.js遵循的是CommonJS规范，Node基于这个规范实现了一套模块加载机制，而基于Node下面开发的各种应用，也应该是遵循CommonJS规范的。

## CommonJS模块规范




